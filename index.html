<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Prevent mobile zooming on inputs -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Task Reminder App</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Google Fonts for a modern look -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Main App Container -->
  <div id="app-container" class="app-container">
    <header class="header">
      <h1>Task Reminder App</h1>
      <div class="user-selector">
        <label for="user-select">Current User:</label>
        <select id="user-select"></select>
      </div>
    </header>

    <!-- Navigation Bar for Task Types -->
    <nav id="nav-bar">
      <button data-type="repeating" class="active">Repeating Tasks</button>
      <button data-type="contact">Keep in Touch</button>
      <button data-type="todos">One-off Todos</button>
      <button data-type="birthdays">Birthdays / Occasions</button>
    </nav>

    <div class="container">
      <div class="columns">
        <!-- Repeating Tasks Column -->
        <div class="column" id="repeating-column">
          <h2>Repeating Tasks</h2>
          <form id="repeating-form" class="task-form">
            <input type="text" id="r-task-name" placeholder="Task Name" required>
            <input type="number" id="r-frequency" placeholder="Frequency (days)" min="1" required>
            <label>Owner:</label>
            <select id="r-owner"></select>
            <button type="submit">Add Task</button>
          </form>
          <div id="repeating-list" class="task-list"></div>
        </div>

        <!-- Keep in Touch Column -->
        <div class="column" id="contacts-column">
          <h2>Keep in Touch</h2>
          <form id="contacts-form" class="task-form">
            <input type="text" id="c-contact-name" placeholder="Contact Name" required>
            <input type="number" id="c-frequency" placeholder="Frequency (days)" min="1" required>
            <label>Owner:</label>
            <select id="c-owner"></select>
            <button type="submit">Add Contact Task</button>
          </form>
          <div id="contacts-list" class="task-list"></div>
        </div>

        <!-- One-off Todos Column -->
        <div class="column" id="todos-column">
          <h2>One-off Todos</h2>
          <form id="todos-form" class="task-form">
            <input type="text" id="t-task-name" placeholder="Task Name" required>
            <input type="date" id="t-due-date" required>
            <label>Owner:</label>
            <select id="t-owner"></select>
            <button type="submit">Add Todo</button>
          </form>
          <div id="todos-list" class="task-list"></div>
        </div>

        <!-- Birthdays/Occasions Column -->
        <div class="column" id="birthdays-column">
          <h2>Birthdays/Occasions</h2>
          <form id="birthdays-form" class="task-form">
            <input type="text" id="b-task-name" placeholder="Occasion Name" required>
            <!-- Use a date input; the year will be ignored -->
            <input type="date" id="b-date" required>
            <label>Owner:</label>
            <select id="b-owner"></select>
            <button type="submit">Add Occasion</button>
          </form>
          <div id="birthdays-list" class="task-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Modal -->
  <div id="edit-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2 id="edit-modal-title"></h2>
      <form id="edit-form">
        <div id="edit-fields"></div>
        <button type="submit">Save</button>
        <button type="button" id="edit-cancel-btn">Cancel</button>
      </form>
    </div>
  </div>

  <!-- Firebase SDKs (Modular) -->
  <script type="module" src="https://www.gstatic.com/firebasejs/11.3.0/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/11.3.0/firebase-firestore.js"></script>
  <!-- Our App Script -->
  <script type="module" src="script.js"></script>
</body>
</html>
